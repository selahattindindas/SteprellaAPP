<div class="user-dropdown">
    <div class="hover-area" 
         (mouseenter)="isOpen.set(true)" 
         (mouseleave)="isOpen.set(false)">
      @if (!isLoggedIn()) {
        <div class="dropdown-trigger">
          <i class="icon-user" routerLink="/auth"></i>
        </div>
        
        <div class="auth-section">
          @if (isOpen()) {
            <ul class="dropdown-menu">
                <li><a class="login-btn" routerLink="/auth">Giriş Yap</a></li>
                <li><a class="register-btn" routerLink="/auth">Kayıt Ol</a></li>
            </ul>
          }
        </div>
      }
      @else {
        <div class="dropdown-trigger">
          <i class="icon-user" routerLink="/profile"></i>
        </div>

        @if (isOpen()) {
          <div class="profile-section">
            <ul class="dropdown-menu">
              <p>{{ userEmail() }}</p>
              <li>
                <a routerLink="/orders">
                  <i class="icon-shopping"></i>
                  Tüm Siparişlerim
                </a>
              </li>
              <li>
                <a routerLink="/rating">
                  <i class="icon-message"></i>
                  Değerlendirmelerim
                </a>
              </li>
              <li>
                <a routerLink="/profile">
                  <i class="icon-user"></i>
                  Kullanıcı Bilgilerim
                </a>
              </li>
              <li>
                <a routerLink="/addresses">
                  <i class="icon-location"></i>
                  Adreslerim
                </a>
              </li>
              <li>
                <a (click)="logout()">
                  <i class="icon-log_out"></i>
                  Çıkış Yap
                </a>
              </li>
            </ul>
          </div>
        }
      }
    </div>
</div>

