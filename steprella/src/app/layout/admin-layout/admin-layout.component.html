@if (isLoading()) {
  <!-- Loading Screen -->
  <div class="progressbar" 
       role="progressbar"
       aria-label="Loading content">
  </div>
} @else {
  <!-- Main Layout -->
  <div class="layout-container">
    <!-- Sidenav Container -->
    <mat-sidenav-container class="sidenav-container" 
                          role="navigation"
                          aria-label="Main navigation">
      
      <!-- Sidebar -->
      <mat-sidenav #sidenav 
                   [mode]="isSidebarCollapsed() ? 'over' : 'side'" 
                   [opened]="isOpen()"
                   (closed)="onSidenavClosed()"
                   class="!tw-w-[260px] !tw-bg-white !tw-rounded-none"
                   role="complementary"
                   aria-label="Sidebar navigation">
        <app-sidebar [isCollapsed]="isSidebarCollapsed()" 
                    [isOpen]="isOpen()" />
      </mat-sidenav>

      <!-- Main Content Area -->
      <mat-sidenav-content role="main">
        <!-- Header -->
        <app-header (toggleSidebarEvent)="toggleSidebar()" />

        <!-- Page Content -->
        <main class="main-content">
          <div class="content-wrapper">
            <div class="content-inner">
              <router-outlet />
            </div>
          </div>
        </main>
      </mat-sidenav-content>

    </mat-sidenav-container>
  </div>
}